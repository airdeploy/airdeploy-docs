<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Targeting Methods · Airdeploy Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="There are several ways to target entities in Airdeploy. By mixing and matching them, they can express many intended ways of routing traffic through a flag."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Targeting Methods · Airdeploy Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://airdeploy.github.io/"/><meta property="og:description" content="There are several ways to target entities in Airdeploy. By mixing and matching them, they can express many intended ways of routing traffic through a flag."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo_color_inverted.svg" alt="Airdeploy Documentation"/><h2 class="headerTitleWithLogo">Airdeploy Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"></ul></nav></div></header></div></div><div class="navPusher singleRowMobileNav"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Concepts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Overview</h3><ul class=""><li class="navListItem"><a class="navItem" href="/overview/home">Home</a></li><li class="navListItem"><a class="navItem" href="/overview/introduction">Introduction</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Flagger SDK</h3><ul class=""><li class="navListItem"><a class="navItem" href="/flagger-sdk/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/flagger-sdk/quick-start">Quick Start</a></li><li class="navListItem"><a class="navItem" href="/flagger-sdk/flag-detection">Flag Detection</a></li><li class="navListItem"><a class="navItem" href="/flagger-sdk/flag-functions">Flag Functions</a></li><li class="navListItem"><a class="navItem" href="/flagger-sdk/tracking">Tracking API</a></li><li class="navListItem"><a class="navItem" href="/flagger-sdk/default-variation">Default Variation</a></li><li class="navListItem"><a class="navItem" href="/flagger-sdk/ingestion">Ingestion</a></li><li class="navListItem"><a class="navItem" href="/flagger-sdk/attributes">Attributes</a></li><li class="navListItem"><a class="navItem" href="/flagger-sdk/faq">FAQ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API Reference</h3><ul class=""><li class="navListItem"><a class="navItem" href="/api-reference/js">Javascript</a></li><li class="navListItem"><a class="navItem" href="/api-reference/react">React</a></li><li class="navListItem"><a class="navItem" href="/api-reference/java">Java</a></li><li class="navListItem"><a class="navItem" href="/api-reference/ruby">Ruby</a></li><li class="navListItem"><a class="navItem" href="/api-reference/python">Python</a></li><li class="navListItem"><a class="navItem" href="/api-reference/go">Golang</a></li><li class="navListItem"><a class="navItem" href="/api-reference/ios">iOS</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Concepts</h3><ul class=""><li class="navListItem"><a class="navItem" href="/concepts/flags">Flags</a></li><li class="navListItem"><a class="navItem" href="/concepts/entities">Entities</a></li><li class="navListItem"><a class="navItem" href="/concepts/groups">Groups</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/concepts/targeting">Targeting Methods</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Dashboard</h3><ul class=""><li class="navListItem"><a class="navItem" href="/dashboard/organizations">Organizations</a></li><li class="navListItem"><a class="navItem" href="/dashboard/projects">Projects</a></li><li class="navListItem"><a class="navItem" href="/dashboard/environments">Environments</a></li><li class="navListItem"><a class="navItem" href="/dashboard/managing-flags">Managing Flags</a></li><li class="navListItem"><a class="navItem" href="/dashboard/configuring-flags">Configuring Flags</a></li><li class="navListItem"><a class="navItem" href="/dashboard/flag-history">Flag History</a></li><li class="navListItem"><a class="navItem" href="/dashboard/flag-preview">Flag Preview</a></li><li class="navListItem"><a class="navItem" href="/dashboard/team">Team</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Targeting Methods</h1></header><article><div><span><p>There are several ways to target entities in Airdeploy. By mixing and matching them, they can express many intended ways of routing traffic through a flag.</p>
<h2><a class="anchor" aria-hidden="true" id="subpopulation-sampling"></a><a href="#subpopulation-sampling" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Subpopulation Sampling</h2>
<p>This method randomly selects a percentage of a subpopulation (a subset of the traffic going through a flag). A percentage of the entities that meet certain criteria will be receive the feature behind the flag (be assigned one of the active variations).</p>
<p>In this example, the entire universe of users is broken into several subsets (aka subpopulations).</p>
<p><img src="/assets/entity-subset-work.png" alt="Subpopulation Sampling"></p>
<p>Every subpopulation has a sampling percentage, which informs the flag to allow through a random sample of entity traffic in that subpopulation.</p>
<p>A subpopulation could logically represent more complex situations. A few examples:</p>
<ul>
<li>30% of all users in Luxembourg</li>
<li>10% of all users under the age of 25 AND do not own cars</li>
<li>100% of all companies with &lt; 50 employees</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="constructing-a-subpopulation"></a><a href="#constructing-a-subpopulation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Constructing a Subpopulation</h3>
<p>A subpopulation is first defined by a set of filters, which determines which entities are to included in the subpopulation.</p>
<p>For example, a subpopulation could be filtered to only users where &quot;operating system is not MacOS&quot;. In this example, it may be that the original pool of user entities was 3,000. With the filter applied, it may be reduced to 1,200. Only these entities will be sampled.</p>
<p>In each subpopulation, multiple filters can be chained together - aka connected with &quot;AND&quot; logical operations. For example, from the previous example of a user entity subset where &quot;operating system is not MacOS&quot;, you could add another filter where &quot;state is Iowa&quot;. The resulting subpopulation is limited to only users who meet both criteria - and therefore only those users would be sampled according to the sampling percentage.</p>
<h3><a class="anchor" aria-hidden="true" id="combining-subpopulations"></a><a href="#combining-subpopulations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Combining Subpopulations</h3>
<p>In the examples above, a single subpopulation was defined, diverting only entities that meet that subpopulation's criteria.</p>
<p>However, multiple subpopulations can be defined. In these cases, if an entity meets <strong>any</strong> of the subpopulations criteria, it will be considered for sampling.</p>
<p>Order matters here - the first subpopulation that the entity matches (according to the order defined in the dashboard) is the subpopulation that the entity is considered to be a part of.</p>
<blockquote>
<p>In logic speak, subpopulation filters are <code>AND</code>ed together. To qualify as a member of a subpopulation, an entity must meet all the filter criterion.
Multiple subpopulations are <code>OR</code>ed together. That is, an entity only needs to be in one of the sample subpopulations to receive the feature behind the flag.</p>
</blockquote>
<blockquote>
<p>In logic terminology, this is known as <strong>disjunctive normal form</strong>. It turns out that all logical formulas can be converted into an equivalent disjunctive normal form. This is handy for constructing complex audiences using Subpopulations.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="whitelisting"></a><a href="#whitelisting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Whitelisting</h2>
<p>Typically, entities flow through subpopulation filters through the flag variations. They are assigned to variations randomly based on the percentages assigned (either evenly split by default or by your custom percentages). This is useful in most cases. However, there may be certain entities you wish to assign to a specific variation.</p>
<p><img src="/assets/wl-bl.jpeg" alt="wWhitelisting"></p>
<p>Whitelisting is a way to ensure that a particular entity (or group of entities) receives a particular variation of the flag.</p>
<p>For example, the developer of a feature may want to ensure, with certainty, that they always receive the feature under development. In that case, they would whitelist themselves to the <code>on</code> variation of the flag.</p>
<p>You can assign any entity to a specific variation and they will see that variation (as long as the flag is on). You can also assign any entity directly to the default variation. In that case, they will never see any variation regardless of the flag being on or off.</p>
<h2><a class="anchor" aria-hidden="true" id="order-of-precedence"></a><a href="#order-of-precedence" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Order of Precedence</h2>
<p>The combined order of precedence for determining variations is:</p>
<ol>
<li>Kill Switch: Default variation if the flag is &quot;killed&quot; (kill switch engaged)</li>
<li>Individual Whitelist: The specified, whitelisted variation assigned to an individual entity</li>
<li>Group Whitelist: The specified, whitelisted variation assigned to the entity's parent group</li>
<li>Individual Subpopulation: One of the flag's variations is randomly assigned based on the split provided.</li>
<li>Group Subpopulation: Variation assigned to the entity's parent group through randomization</li>
<li>Default Variation: Off by default</li>
</ol>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/concepts/groups"><span class="arrow-prev">← </span><span>Groups</span></a><a class="docs-next button" href="/dashboard/organizations"><span>Organizations</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#subpopulation-sampling">Subpopulation Sampling</a><ul class="toc-headings"><li><a href="#constructing-a-subpopulation">Constructing a Subpopulation</a></li><li><a href="#combining-subpopulations">Combining Subpopulations</a></li></ul></li><li><a href="#whitelisting">Whitelisting</a></li><li><a href="#order-of-precedence">Order of Precedence</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/favicon.ico" alt="Airdeploy Documentation" width="66" height="58"/></a><div><h5>Docs</h5><a href="/en/overview.html">Getting Started</a><a href="/en/api-references.html">API Reference</a></div><div><h5>More</h5><a href="https://github.com/airdeploy">Airdeploy GitHub</a></div></section><section class="copyright">Copyright © 2020 Airdeploy</section></footer></div></body></html>